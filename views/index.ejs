<% include partials/header.ejs %>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">

            <div class="jumbotron mt-3">
                <h1>LateList</h1>
                <p>View on Github: <a href="https://github.com/dmanexe/latelist">@dmanexe/latelist</a></p>
                <p>Here's a little working example of a MySQL/Node app I built to learn about Node. It is supposed to include 24-hour locations from around the world. Future features would include city pages, comments, and more.</p>
                <div class="table-wrapper"><% if (spots.length > 0) {%>
                    <table class="table table-hovered table-striped table-hover">
                        <thead>
                            <tr>
                                <th scope="col">&nbsp;</th>
                                <th scope="col">Image</th>
                                <th scope="col">Title</th>
                                <th scope="col">Address</th>
                                <th scope="col">Type</th>
                                <th scope="col">Description</th>
                                <th scope="col">Twitter</th>
                                <th scope="col">&nbsp;</th>
                                <th scope="col">&nbsp;</th>
                            </tr>
                        </thead>
                        <tbody><% spots.forEach((spot, index) => { %>
                            <tr>
                                <th scope="row">
                                    <a href="view/<%= spot.id %>" target="_blank" rel="noopener" class="btn btn-sm btn-primary"><i class="fas fa-info-circle"></i> View
                                </th>
                                <td>
                                    <img src="assets/img/<%= spot.image %>" class="rounded-circle spot-img" alt="">
                                </td>
                                <td>
                                    <%= spot.spot_title %>
                                </td>
                                <td>
                                    <%= spot.spot_address %>
                                </td>
                                <td>
                                    <%= spot.spot_locale %>
                                </td>
                                <td>
                                    <%= spot.spot_description %>
                                </td>
                                <td>
                                    <a href="https://www.twitter.com/<%= spot.spot_username %>">@<%= spot.spot_username %></a>
                                </td>
                                <td>
                                    <a href="edit/<%= spot.id %>" target="_blank" rel="noopener" class="btn btn-sm btn-info"><i class="fas fa-edit"></i> Edit</a>
                                </td>
                                <td>
                                    <a href="delete/<%= spot.id %>" class="btn btn-sm btn-danger"><i class="fas fa-minus-circle"></i> Delete</a>
                                </td>
                            </tr><% }) %>
                            <tr>
                                <td colspan="9"><a href="add" target="_blank" rel="noopener" class="btn btn-sm btn-success"><i class="fas fa-plus-square"></i> New Spot</a>
                            </tr>
                            </tbody>
                        </table><% } else { %>
                        <p class="text-center">No spots found. Go 
                            <a href="add" >here</a> to add a spot.
                        </p><% } %>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>